<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mac下使用hugo和GithubPages搭建个人博客 | h4m0r's Blog</title>
<meta name=keywords content="hugo,github pages"><meta name=description content="hugo和GithubPages搭建个人博客"><meta name=author content="h4m0r"><link rel=canonical href=https://hamor.top/posts/blog/mac%E4%B8%8B%E4%BD%BF%E7%94%A8hugo%E5%92%8Cgithubpages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/><meta name=google-site-verification content="GR1ffzitmVWrYRtzKiL6ro8CN0Fhrzg3HWvCapyY5EU"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://hamor.top/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://hamor.top/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://hamor.top/img/Q.gif><link rel=apple-touch-icon href=https://hamor.top/img/Q.gif><link rel=mask-icon href=https://hamor.top/img/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://hamor.top/posts/blog/mac%E4%B8%8B%E4%BD%BF%E7%94%A8hugo%E5%92%8Cgithubpages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GJCCZ7HKTC"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GJCCZ7HKTC")</script><meta property="og:title" content="Mac下使用hugo和GithubPages搭建个人博客"><meta property="og:description" content="hugo和GithubPages搭建个人博客"><meta property="og:type" content="article"><meta property="og:url" content="https://hamor.top/posts/blog/mac%E4%B8%8B%E4%BD%BF%E7%94%A8hugo%E5%92%8Cgithubpages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"><meta property="og:image" content="https://hamor.top/posts/blog/img/cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-12T16:12:48+08:00"><meta property="article:modified_time" content="2024-04-12T16:12:48+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hamor.top/posts/blog/img/cover.png"><meta name=twitter:title content="Mac下使用hugo和GithubPages搭建个人博客"><meta name=twitter:description content="hugo和GithubPages搭建个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://hamor.top/posts/"},{"@type":"ListItem","position":2,"name":"博客","item":"https://hamor.top/posts/blog/"},{"@type":"ListItem","position":3,"name":"Mac下使用hugo和GithubPages搭建个人博客","item":"https://hamor.top/posts/blog/mac%E4%B8%8B%E4%BD%BF%E7%94%A8hugo%E5%92%8Cgithubpages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mac下使用hugo和GithubPages搭建个人博客","name":"Mac下使用hugo和GithubPages搭建个人博客","description":"hugo和GithubPages搭建个人博客","keywords":["hugo","github pages"],"articleBody":"序章 一直想用博客的形式记录自己的生活、工作、学习的点滴，从2018年开始用Hexo+NEXT写博客上传到GitHub，后来又断断续续的写了一段时间就荒废了。从今年4月开始看着朋友的博客写的有声有色，除了想用博客来记录之外，觉得自己还是需要将所学的东西沉淀下来，有一个回顾的平台，希望博客能为可能遇到同样问题网友提供帮助。\n在准备搭建博客之初，想过很多的方案，想过购买云主机、CloudFlare Works、Github Page等方案，最后综合考虑博客是一个自己记录滴滴地方，个人觉得发布到GitHub比较省心，选择了用Github Page来承载博客，方案采用Hugo来生成静态博客，因为Hugo实在太省心了，不会向Hexo方案那样因为node.js导致的各种错误头大，主题采用简约风格的PaperMod。\n一、概念及思路 1、什么是GitHub Pages GitHub Pages 是一项静态站点托管服务，只能托管静态站点，不能运行服务器端源码，比如 PHP、Java、Python等。它可以直接从 GitHub 上的仓库获取 HTML、CSS 和 JavaScript 文件，通过构建过程运行文件，然后发布网站。\n2、什么是Hugo Hugo是由Go语言实现的静态网站生成器，可以把 Markdown 文件转化成 HTML 文件，简单、易用、高效、易扩展、快速部署。\n3、博客搭建思路 3.1 需要创建 3个 GitHub 仓库 这里先建好3个仓库，方便后面将博客内容推送到GitHub\n博客源仓库：储存所有 Markdown 源文件（博客内容），和博客中用到的图片等。 GitHub Pages 仓库：储存由 Hugo 从Markdown 文件生成的 HTML 文件。 图片仓库：用来存储博客正文中所用到的图片，下一篇搭建图床的文章将介绍。 3.2 推送到GitHub pages 将在博客源仓库中 Hugo 生成的静态 HTML文件推送到远端 GitHub Pages仓库中。\n二、创建GitHub仓库 1、创建博客源文件仓库 仓库名可以随意取 勾选 Pricate，设置为私有仓库，这样设置能很好的保护自己的源码文件。 勾选添加 README 文件。 2、创建 GitHub Page 仓库 这个仓库必须使用特殊的命名格式 ， 是自己的 GitHub 的用户名。 勾选 Public，设置为公开仓库。 勾选添加 README 文件。 三、克隆博客源仓库到本地 之前从安装hugo，到配置主题papermod，发布测试文章到GitHub，流程全部走通了，只是部分功能需要自己去配置。后来发现已经有很多大佬公开了他们的博客文件，就直接去git clone下来部署，后续再根据自己的需要进行调整，这样会节省很多时间，少踩很多坑。\n1、克隆已经开源的博客到本地 1.1 这里我选择的是Sulv题主的开源博客进行部署，打开想要在本地储存项目的文件夹（比如我的项目的文件夹是 Project ）\ncd Project 1.2 克隆博客仓库到项目文件夹，克隆时使用的 HTTPS 仓库链接\ngit clone git@github.com:xyming108/sulv-hugo-papermod.git # 拉取下来解压是sulv-hugo-papermod文件夹，可以重命名为自己喜欢的名字（BlogSoure） cd BlogSoure git submodule update --init # 表示拉取themes/hugo-PaperMod/下的子模块，里面放的是官方主题 1.3 删除Blog、Public文件下的git文件，这里是原作者的信息，不然推送到自己的GitHub会报错\nrm -rf .git 四、Mac环境下需要的软件 1、安装包管理器Homebrew $ /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" 2、安装Hugo brew install hugo 3、安装git环境 # git环境，Mac下若安装了开发者环境会带有git，没有的话参考以下方式进行安装 brew install git 五、 使用 Hugo 创建博客站点 1、进入刚刚克隆下来的重命名为Blog的文件夹。\ncd BlogSoure 2、在这个文件夹里用 Hugo 创建一个博客网站文件夹。\nhugo new site myblog 3、用 Hugo 创建的网站共会生成一些文件夹文件。 archetypes：存放用 hugo 生成文章的模版 content：存放博客内容页面 layouts：存放自定义网站样式 static：存放静态文件图片等 data：存放其他数据 public：存放Hugo 生成的静态文件 themes：存放主题 config.toml：网站配置文件，建议改成config.yml格式，这样方便阅读与编辑 4、使用Hugo创建一篇文章，目录沿用开源博客目录，后期可以自己修改。\nhugo new posts/blog/xx.md 创建的 Markdown 文件时会套用 archetypes 文件夹中的模版，在空白处用 Markdown 写入文章即可。\n5、启动博客 生成静态文件，用以下命令表示每次生成的public文件都是全新的。\nhugo -F --cleanDestinationDir 进行本地调试\nhugo server -D 运行成功后，可以在 http://localhost:1313/ 中预览博客内容\n六、在Mac上设置GitHub SSH Key 1、 生成 SSH Key 1、点开 GitHub账号头像下的 Settings\n2、找到 Settings 下的 SSH and GPG keys，点击 generating SSH keys。 3、在下一步中选择 Generating a new SSH key and adding it to the ssh-agent 4、选择Mac操作系统，往下滑动页面会看到 GitHub 给出的 Mac下生成SSH Key的方法。 5、打开终端，复制粘贴以命令到终端，把 your_email@example.com 替换成你注册 GitHub 时使用的邮箱。\nssh-keygen -t ed25519 -C \"your_email@example.com\" 6、一直按 Enter 直到出现以下画面。 7、SSH Key 已经生成成功，接下来把生成的 SSH Key 添加到 ssh-agent。\n2、添加 SSH Key 到 ssh-agent 1、在终端（Terminal）中输入命令，执行完成后终端会给出Agent pid\neval \"$(ssh-agent -s)\" 2、如果是 macOS Siera 10.12.2 或以上的版本，需要修改 ~/.ssh/config 文件来自动加载密钥到 ssh-agent 和储存 passphrases 到你的钥匙链。\n检查电脑中是否存在 ~/.ssh/config 文件 open ~/.ssh/config 出现以下提示表示不存在该文件，需要创建。 touch ~/.ssh/config 3、用编辑器打开 ~/.ssh/config 文件\nvim ~/.ssh/config 4、在编辑窗口按i建进入插入模式，把以下代码复制粘贴进去，按esc退出编辑模式，然后按住shift+冒号，输入wq，回车保存退出。\nHost * AddKeysToAgent yes UseKeychain yes IdentityFile ~/.ssh/id_ed25519 5、将 SSH Key 添加到 ssh-agent。你使用的是 Mac Monterey(12.0)及以上版本，可以使用以下命令。\nssh-add --apple-use-keychain ~/.ssh/id_ed25519 如果不是 Mac Monterey(12.0)及以上版本，请用以下命令。\nssh-add -K ~/.ssh/id_ed25519 6、出现 Identity added 即表示添加成功。\n3、 添加 SSH Key 到 GitHub 1、接着，输入以下命令， pbcopy 会复制 SSH Key 内容到剪贴板。\npbcopy \u003c ~/.ssh/id_ed25519.pub 2、再次打开 GitHub Settings 下的 SSH and GPG Key ，点击 New SSH key 3、添加生成的 SSH Key 到 GitHub\n在Title中给这个 SSH Key 命名 Key Type选择 Authentication Key 在Key中 Command+V 粘贴刚刚复制的 SSH Key 添加后点击 Add SSH Key 4、添加完成。\n4、测试 SSH Key 是否添加成功 1、选择一个要用 SSH Key clone 的仓库，复制这个仓库的 SSH 链接。 2、在终端输入以下命令。\ngit clone [ssh-url] 3、clone 成功即代表 SSH Key 添加成功。\n七、发布内容 使用Github Actions功能实现提交源码后自动发布。\n1、生成Actions secrets 1.1 生成Personal access tokens 首先点击github头像在下拉栏里进入Setting-\u003eDeveloper Settings-\u003ePersonal access tokens -\u003e tokens (classic) 1.2 选择Generate new token 1.3 点击Generate token生成token，这个token只有显示一次，并先复制保存该token。\n2、添加ersonal access token 接下来在blog1仓库源码repo中添加上面的personal access token，进入repo的Settings-\u003eSecrets and variable一栏，选择New repository secret。 名称自取，Secret复制上面生成的Personal access tokens。 3、配置actions文件 3.1 在my blog博客根目录新建嵌套的两个文件夹.github/workflows，在workflows里新建一个后缀为.yml的配置文件，名字随意。 将以下配置写进.yml文件里。\nname: deploy # 名字自取 on: push: branches: - main # 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions jobs: deploy: # 任务名自取 runs-on: ubuntu-latest # 在什么环境运行任务 steps: - uses: actions/checkout@v2 # 引用actions/checkout这个action，与所在的github仓库同名 with: submodules: true # Fetch Hugo themes (true OR recursive) 获取submodule主题 fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo # 步骤名自取 uses: peaceiris/actions-hugo@v2 # hugo官方提供的action，用于在任务环境中获取hugo with: hugo-version: 'latest' # 获取最新版本的hugo # extended: true - name: Build Web run: hugo --minify # 使用hugo构建静态网页 - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 # 一个自动发布github pages的action with: # github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo external_repository: h4m0r/h4m0r.github.io # 发布到哪个repo personal_token: ${{ secrets.PERSONAL_TOKEN }} # 发布到其他repo需要提供上面生成的personal access token publish_dir: ./public # 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容 publish_branch: main # 发布到哪个branch 文件中只需要改external_repository为自己的github page仓库，personal_token: ${{ secrets.XXX }} XXX改成Actions secrets生成的名称。\n4、推送代码到源码仓库 4.1 将myblog文件夹初始化为 Git 仓库，并设置默认主分支名为 main。GitHub 创建仓库默认主分支名是 main， 用 git init 初始化成 main ，再推送给远端仓库，这样才不会报错。\ngit init -b main 4.2 将 public 文件夹关联远程 GitHub Pages 仓库。\ngit remote add origin git@github.com:h4m0r/blog1.git 4.3 推送本地文件到远程仓库。\ngit pull --rebase origin main git add . git commit -m \"...(修改的信息)\" git push origin main # git push origin main -f 推送完成之后，到github仓库中的Actions中就可以看到运行成功，github pages仓库就会有hugo生成的html文件了，然后你就可以通过 https://h4m0r.github.io 访问你的博客。\n参考文章 1、Windows下使用hugo和Github Pages配置博客\n2、如何用 GitHub Pages + Hugo 搭建个人博客\n3、如何用 GitHub Pages + Hugo 搭建个人博客\n4、hugo博客搭建 | PaperMod主题\n","wordCount":"3765","inLanguage":"zh","image":"https://hamor.top/posts/blog/img/cover.png","datePublished":"2024-04-12T16:12:48+08:00","dateModified":"2024-04-12T16:12:48+08:00","author":[{"@type":"Person","name":"h4m0r"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hamor.top/posts/blog/mac%E4%B8%8B%E4%BD%BF%E7%94%A8hugo%E5%92%8Cgithubpages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},"publisher":{"@type":"Organization","name":"h4m0r's Blog","logo":{"@type":"ImageObject","url":"https://hamor.top/img/Q.gif"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hamor.top/ accesskey=h title="h4m0r's Blog (Alt + H)"><img src=https://hamor.top/img/Q.gif alt=logo aria-label=logo height=35>h4m0r's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://hamor.top/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://hamor.top/ title=主页><span>主页</span></a></li><li><a href=https://hamor.top/posts title=文章><span>文章</span></a></li><li><a href=https://hamor.top/tags title=标签><span>标签</span></a></li><li><a href=https://hamor.top/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=https://hamor.top/about title=关于><span>关于</span></a></li><li><a href=https://hamor.top/links title=友链><span>友链</span></a></li></ul></nav></header><main class=main><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://hamor.top/>🏠 主页</a>&nbsp;»&nbsp;<a href=https://hamor.top/posts/>文章</a>&nbsp;»&nbsp;<a href=https://hamor.top/posts/blog/>博客</a></div><h1 class=post-title>Mac下使用hugo和GithubPages搭建个人博客</h1><div class=post-description>hugo和GithubPages搭建个人博客</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>2024-04-12
&nbsp;&nbsp;
</span></span><span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>3765字
&nbsp;&nbsp;
</span></span><span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>8分钟
&nbsp;&nbsp;
</span></span><span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>h4m0r
&nbsp;&nbsp;
</span></span><span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://hamor.top/tags/hugo/ style=color:var(--secondary)!important>Hugo</a>
&nbsp;<a href=https://hamor.top/tags/%E5%8D%9A%E5%AE%A2/ style=color:var(--secondary)!important>博客</a>
</span></span></span></span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;
</span></span><span id=post_meta_style_8><span class="fa fa-commenting-o"></span>
<span><script src=https://cdn.staticfile.org/twikoo/1.6.32/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://hamor.top/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=="/"&&(finalUrl="/"+finalUrl),twikoo.getCommentsCount({envId:"https://twikoo-api-sigma-brown.vercel.app/",region:null,urls:[finalUrl],includeReply:!1}).then(function(e){let t=e[0].count;const n=document.getElementById("comment_count");n.innerText=t}).catch(function(e){console.error(e)})</script><span id=comment_count></span></span></span></span></div></header><figure class=entry-cover1><img style=zoom: loading=lazy src=https://hamor.top/posts/blog/img/cover.png alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%ba%8f%e7%ab%a0 aria-label=序章>序章</a></li><li><a href=#%e4%b8%80%e6%a6%82%e5%bf%b5%e5%8f%8a%e6%80%9d%e8%b7%af aria-label=一、概念及思路>一、概念及思路</a><ul><ul><li><a href=#1%e4%bb%80%e4%b9%88%e6%98%afgithub-pages aria-label="1、什么是GitHub Pages">1、什么是GitHub Pages</a></li><li><a href=#2%e4%bb%80%e4%b9%88%e6%98%afhugo aria-label=2、什么是Hugo>2、什么是Hugo</a></li><li><a href=#3%e5%8d%9a%e5%ae%a2%e6%90%ad%e5%bb%ba%e6%80%9d%e8%b7%af aria-label=3、博客搭建思路>3、博客搭建思路</a><ul><li><a href=#31-%e9%9c%80%e8%a6%81%e5%88%9b%e5%bb%ba-3%e4%b8%aa-github-%e4%bb%93%e5%ba%93 aria-label="3.1 需要创建 3个 GitHub 仓库">3.1 需要创建 3个 GitHub 仓库</a></li><li><a href=#32-%e6%8e%a8%e9%80%81%e5%88%b0github-pages aria-label="3.2 推送到GitHub pages">3.2 推送到GitHub pages</a></li></ul></li></ul></ul></li><li><a href=#%e4%ba%8c%e5%88%9b%e5%bb%bagithub%e4%bb%93%e5%ba%93 aria-label=二、创建GitHub仓库>二、创建GitHub仓库</a><ul><ul><li><a href=#1%e5%88%9b%e5%bb%ba%e5%8d%9a%e5%ae%a2%e6%ba%90%e6%96%87%e4%bb%b6%e4%bb%93%e5%ba%93 aria-label=1、创建博客源文件仓库>1、创建博客源文件仓库</a></li><li><a href=#2%e5%88%9b%e5%bb%ba-github-page-%e4%bb%93%e5%ba%93 aria-label="2、创建 GitHub Page 仓库">2、创建 GitHub Page 仓库</a></li></ul></ul></li><li><a href=#%e4%b8%89%e5%85%8b%e9%9a%86%e5%8d%9a%e5%ae%a2%e6%ba%90%e4%bb%93%e5%ba%93%e5%88%b0%e6%9c%ac%e5%9c%b0 aria-label=三、克隆博客源仓库到本地>三、克隆博客源仓库到本地</a><ul><ul><li><a href=#1%e5%85%8b%e9%9a%86%e5%b7%b2%e7%bb%8f%e5%bc%80%e6%ba%90%e7%9a%84%e5%8d%9a%e5%ae%a2%e5%88%b0%e6%9c%ac%e5%9c%b0 aria-label=1、克隆已经开源的博客到本地>1、克隆已经开源的博客到本地</a></li></ul></ul></li><li><a href=#%e5%9b%9bmac%e7%8e%af%e5%a2%83%e4%b8%8b%e9%9c%80%e8%a6%81%e7%9a%84%e8%bd%af%e4%bb%b6 aria-label=四、Mac环境下需要的软件>四、Mac环境下需要的软件</a><ul><ul><li><a href=#1%e5%ae%89%e8%a3%85%e5%8c%85%e7%ae%a1%e7%90%86%e5%99%a8homebrew aria-label=1、安装包管理器Homebrew>1、安装包管理器Homebrew</a></li><li><a href=#2%e5%ae%89%e8%a3%85hugo aria-label=2、安装Hugo>2、安装Hugo</a></li><li><a href=#3%e5%ae%89%e8%a3%85git%e7%8e%af%e5%a2%83 aria-label=3、安装git环境>3、安装git环境</a></li></ul></ul></li><li><a href=#%e4%ba%94%e4%bd%bf%e7%94%a8-hugo-%e5%88%9b%e5%bb%ba%e5%8d%9a%e5%ae%a2%e7%ab%99%e7%82%b9 aria-label="五、 使用 Hugo 创建博客站点">五、 使用 Hugo 创建博客站点</a></li><li><a href=#%e5%85%ad%e5%9c%a8mac%e4%b8%8a%e8%ae%be%e7%bd%aegithub-ssh-key aria-label="六、在Mac上设置GitHub SSH Key">六、在Mac上设置GitHub SSH Key</a><ul><ul><li><a href=#1-%e7%94%9f%e6%88%90-ssh-key aria-label="1、 生成 SSH Key">1、 生成 SSH Key</a></li><li><a href=#2%e6%b7%bb%e5%8a%a0-ssh-key-%e5%88%b0-ssh-agent aria-label="2、添加 SSH Key 到 ssh-agent">2、添加 SSH Key 到 ssh-agent</a></li><li><a href=#3-%e6%b7%bb%e5%8a%a0-ssh-key-%e5%88%b0-github aria-label="3、 添加 SSH Key 到 GitHub">3、 添加 SSH Key 到 GitHub</a></li><li><a href=#4%e6%b5%8b%e8%af%95-ssh-key-%e6%98%af%e5%90%a6%e6%b7%bb%e5%8a%a0%e6%88%90%e5%8a%9f aria-label="4、测试 SSH Key 是否添加成功">4、测试 SSH Key 是否添加成功</a></li></ul></ul></li><li><a href=#%e4%b8%83%e5%8f%91%e5%b8%83%e5%86%85%e5%ae%b9 aria-label=七、发布内容>七、发布内容</a><ul><ul><li><a href=#1%e7%94%9f%e6%88%90actions-secrets aria-label="1、生成Actions secrets">1、生成Actions secrets</a></li><li><a href=#2%e6%b7%bb%e5%8a%a0ersonal-access-token aria-label="2、添加ersonal access token">2、添加ersonal access token</a></li><li><a href=#3%e9%85%8d%e7%bd%aeactions%e6%96%87%e4%bb%b6 aria-label=3、配置actions文件>3、配置actions文件</a></li><li><a href=#4%e6%8e%a8%e9%80%81%e4%bb%a3%e7%a0%81%e5%88%b0%e6%ba%90%e7%a0%81%e4%bb%93%e5%ba%93 aria-label=4、推送代码到源码仓库>4、推送代码到源码仓库</a></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0 aria-label=参考文章>参考文章</a></li></ul></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=序章>序章<a hidden class=anchor aria-hidden=true href=#序章>#</a></h2><blockquote><p>一直想用博客的形式记录自己的生活、工作、学习的点滴，从2018年开始用Hexo+NEXT写博客上传到GitHub，后来又断断续续的写了一段时间就荒废了。从今年4月开始看着朋友的博客写的有声有色，除了想用博客来记录之外，觉得自己还是需要将所学的东西沉淀下来，有一个回顾的平台，希望博客能为可能遇到同样问题网友提供帮助。</p><blockquote><p>在准备搭建博客之初，想过很多的方案，想过购买云主机、CloudFlare Works、Github Page等方案，最后综合考虑博客是一个自己记录滴滴地方，个人觉得发布到GitHub比较省心，选择了用Github Page来承载博客，方案采用Hugo来生成静态博客，因为Hugo实在太省心了，不会向Hexo方案那样因为node.js导致的各种错误头大，主题采用简约风格的PaperMod。</p></blockquote></blockquote><h2 id=一概念及思路>一、概念及思路<a hidden class=anchor aria-hidden=true href=#一概念及思路>#</a></h2><h4 id=1什么是github-pages>1、什么是GitHub Pages<a hidden class=anchor aria-hidden=true href=#1什么是github-pages>#</a></h4><p>GitHub Pages 是一项静态站点托管服务，只能托管静态站点，不能运行服务器端源码，比如 PHP、Java、Python等。它可以直接从 GitHub 上的仓库获取 HTML、CSS 和 JavaScript 文件，通过构建过程运行文件，然后发布网站。</p><h4 id=2什么是hugo>2、什么是Hugo<a hidden class=anchor aria-hidden=true href=#2什么是hugo>#</a></h4><p>Hugo是由Go语言实现的静态网站生成器，可以把 Markdown 文件转化成 HTML 文件，简单、易用、高效、易扩展、快速部署。</p><h4 id=3博客搭建思路>3、博客搭建思路<a hidden class=anchor aria-hidden=true href=#3博客搭建思路>#</a></h4><h5 id=31-需要创建-3个-github-仓库>3.1 需要创建 3个 GitHub 仓库<a hidden class=anchor aria-hidden=true href=#31-需要创建-3个-github-仓库>#</a></h5><p>这里先建好3个仓库，方便后面将博客内容推送到GitHub</p><ul><li><em>博客源仓库</em>：储存所有 Markdown 源文件（博客内容），和博客中用到的图片等。</li><li><em>GitHub Pages 仓库</em>：储存由 Hugo 从Markdown 文件生成的 HTML 文件。</li><li><em>图片仓库</em>：用来存储博客正文中所用到的图片，下一篇搭建图床的文章将介绍。</li></ul><h5 id=32-推送到github-pages>3.2 推送到GitHub pages<a hidden class=anchor aria-hidden=true href=#32-推送到github-pages>#</a></h5><p>将在博客源仓库中 Hugo 生成的静态 HTML文件推送到远端 GitHub Pages仓库中。</p><h2 id=二创建github仓库>二、创建GitHub仓库<a hidden class=anchor aria-hidden=true href=#二创建github仓库>#</a></h2><h4 id=1创建博客源文件仓库>1、创建博客源文件仓库<a hidden class=anchor aria-hidden=true href=#1创建博客源文件仓库>#</a></h4><ul><li>仓库名可以随意取</li><li>勾选 <strong>Pricate</strong>，设置为私有仓库，这样设置能很好的保护自己的源码文件。</li><li>勾选添加 <strong>README</strong> 文件。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240412174301.png alt=image.png></li></ul><h4 id=2创建-github-page-仓库>2、创建 GitHub Page 仓库<a hidden class=anchor aria-hidden=true href=#2创建-github-page-仓库>#</a></h4><ul><li>这个仓库必须使用特殊的命名格式 <code>&lt;username.github.io></code>， <code>&lt;username></code> 是自己的 GitHub 的用户名。</li><li>勾选 <strong>Public</strong>，设置为公开仓库。</li><li>勾选添加 <strong>README</strong> 文件。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240412175018.png alt=image.png></li></ul><h2 id=三克隆博客源仓库到本地>三、克隆博客源仓库到本地<a hidden class=anchor aria-hidden=true href=#三克隆博客源仓库到本地>#</a></h2><blockquote><p>之前从安装hugo，到配置主题papermod，发布测试文章到GitHub，流程全部走通了，只是部分功能需要自己去配置。后来发现已经有很多大佬公开了他们的博客文件，就直接去git clone下来部署，后续再根据自己的需要进行调整，这样会节省很多时间，少踩很多坑。</p></blockquote><h4 id=1克隆已经开源的博客到本地>1、克隆已经开源的博客到本地<a hidden class=anchor aria-hidden=true href=#1克隆已经开源的博客到本地>#</a></h4><p>1.1 这里我选择的是<a href=https://github.com/xyming108/sulv-hugo-papermod>Sulv</a>题主的开源博客进行部署，打开想要在本地储存项目的文件夹（比如我的项目的文件夹是 <code>Project</code> ）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd Project
</span></span></code></pre></div><p>1.2 克隆博客仓库到项目文件夹，克隆时使用的 HTTPS 仓库链接</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone git@github.com:xyming108/sulv-hugo-papermod.git
</span></span><span style=display:flex><span><span style=color:#75715e># 拉取下来解压是sulv-hugo-papermod文件夹，可以重命名为自己喜欢的名字（BlogSoure）</span>
</span></span><span style=display:flex><span>cd BlogSoure
</span></span><span style=display:flex><span>git submodule update --init <span style=color:#75715e># 表示拉取themes/hugo-PaperMod/下的子模块，里面放的是官方主题</span>
</span></span></code></pre></div><p>1.3 删除Blog、Public文件下的git文件，这里是原作者的信息，不然推送到自己的GitHub会报错</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>rm -rf .git
</span></span></code></pre></div><h2 id=四mac环境下需要的软件>四、Mac环境下需要的软件<a hidden class=anchor aria-hidden=true href=#四mac环境下需要的软件>#</a></h2><h4 id=1安装包管理器homebrew>1、安装包管理器Homebrew<a hidden class=anchor aria-hidden=true href=#1安装包管理器homebrew>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ /bin/bash -c <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h4 id=2安装hugo>2、安装Hugo<a hidden class=anchor aria-hidden=true href=#2安装hugo>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install hugo
</span></span></code></pre></div><h4 id=3安装git环境>3、安装git环境<a hidden class=anchor aria-hidden=true href=#3安装git环境>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># git环境，Mac下若安装了开发者环境会带有git，没有的话参考以下方式进行安装</span>
</span></span><span style=display:flex><span>brew install git
</span></span></code></pre></div><h2 id=五使用-hugo-创建博客站点>五、 使用 Hugo 创建博客站点<a hidden class=anchor aria-hidden=true href=#五使用-hugo-创建博客站点>#</a></h2><p>1、进入刚刚克隆下来的重命名为Blog的文件夹。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd BlogSoure
</span></span></code></pre></div><p>2、在这个文件夹里用 Hugo 创建一个博客网站文件夹。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo new site myblog
</span></span></code></pre></div><p>3、用 Hugo 创建的网站共会生成一些文件夹文件。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240412184459.png alt=image.png></p><ul><li>archetypes：存放用 hugo 生成文章的模版</li><li>content：存放博客内容页面</li><li>layouts：存放自定义网站样式</li><li>static：存放静态文件图片等</li><li>data：存放其他数据</li><li>public：存放Hugo 生成的静态文件</li><li>themes：存放主题</li><li>config.toml：网站配置文件，建议改成config.yml格式，这样方便阅读与编辑</li></ul><p>4、使用Hugo创建一篇文章，目录沿用开源博客目录，后期可以自己修改。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo new posts/blog/xx.md
</span></span></code></pre></div><p>创建的 Markdown 文件时会套用 <code>archetypes</code> 文件夹中的模版，在空白处用 Markdown 写入文章即可。</p><p>5、启动博客
生成静态文件，用以下命令表示每次生成的public文件都是全新的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo -F --cleanDestinationDir
</span></span></code></pre></div><p>进行本地调试</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo server -D
</span></span></code></pre></div><p>运行成功后，可以在 <code>http://localhost:1313/</code> 中预览博客内容</p><h2 id=六在mac上设置github-ssh-key>六、在Mac上设置GitHub SSH Key<a hidden class=anchor aria-hidden=true href=#六在mac上设置github-ssh-key>#</a></h2><h4 id=1-生成-ssh-key>1、 生成 SSH Key<a hidden class=anchor aria-hidden=true href=#1-生成-ssh-key>#</a></h4><p>1、点开 <a href=https://github.com/>GitHub</a>账号头像下的 <code>Settings</code></p><p>2、找到 <code>Settings</code> 下的 <code>SSH and GPG keys</code>，点击 <code>generating SSH keys</code>。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240412191626.png alt=image.png></p><p>3、在下一步中选择 <code>Generating a new SSH key and adding it to the ssh-agent</code>
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413000438.png alt=image.png></p><p>4、选择Mac操作系统，往下滑动页面会看到 GitHub 给出的 Mac下生成SSH Key的方法。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413000844.png alt=image.png></p><p>5、打开终端，复制粘贴以命令到终端，把 <code>your_email@example.com</code> 替换成你注册 GitHub 时使用的邮箱。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ssh-keygen -t ed25519 -C <span style=color:#e6db74>&#34;your_email@example.com&#34;</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413001039.png alt=image.png></p><p>6、一直按 <code>Enter</code> 直到出现以下画面。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413001212.png alt=image.png></p><p>7、SSH Key 已经生成成功，接下来把生成的 SSH Key 添加到 ssh-agent。</p><h4 id=2添加-ssh-key-到-ssh-agent>2、添加 SSH Key 到 ssh-agent<a hidden class=anchor aria-hidden=true href=#2添加-ssh-key-到-ssh-agent>#</a></h4><p>1、在终端（Terminal）中输入命令，执行完成后终端会给出Agent pid</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>eval <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>ssh-agent -s<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>2、如果是 <a href=https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent><strong>macOS Siera 10.12.2 或以上的版本</strong></a>，需要修改 <code>~/.ssh/config</code> 文件来自动加载密钥到 ssh-agent 和储存 passphrases 到你的钥匙链。</p><ul><li>检查电脑中是否存在 <code>~/.ssh/config</code> 文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>open ~/.ssh/config
</span></span></code></pre></div><p>出现以下提示表示不存在该文件，需要创建。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413001756.png alt=image.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>touch ~/.ssh/config
</span></span></code></pre></div><p>3、用编辑器打开 <code>~/.ssh/config</code> 文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vim ~/.ssh/config
</span></span></code></pre></div><p>4、在编辑窗口按i建进入插入模式，把以下代码复制粘贴进去，按esc退出编辑模式，然后按住shift+冒号，输入wq，回车保存退出。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Host *
</span></span><span style=display:flex><span>	AddKeysToAgent yes
</span></span><span style=display:flex><span>	UseKeychain yes
</span></span><span style=display:flex><span>	IdentityFile ~/.ssh/id_ed25519
</span></span></code></pre></div><p>5、将 SSH Key 添加到 ssh-agent。你使用的是 <a href=https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent><strong>Mac Monterey(12.0)及以上版本</strong></a>，可以使用以下命令。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ssh-add --apple-use-keychain ~/.ssh/id_ed25519
</span></span></code></pre></div><p>如果不是 Mac Monterey(12.0)及以上版本，请用以下命令。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ssh-add -K ~/.ssh/id_ed25519
</span></span></code></pre></div><p>6、出现 <code>Identity added</code> 即表示添加成功。</p><h4 id=3-添加-ssh-key-到-github>3、 添加 SSH Key 到 GitHub<a hidden class=anchor aria-hidden=true href=#3-添加-ssh-key-到-github>#</a></h4><p>1、接着，输入以下命令， <code>pbcopy</code> 会复制 SSH Key 内容到剪贴板。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pbcopy &lt; ~/.ssh/id_ed25519.pub
</span></span></code></pre></div><p>2、再次打开 GitHub <code>Settings</code> 下的 <code>SSH and GPG Key</code> ，点击 <code>New SSH key</code>
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413003603.png alt=image.png></p><p>3、添加生成的 SSH Key 到 GitHub</p><ul><li>在<strong>Title</strong>中给这个 SSH Key 命名</li><li><strong>Key Type</strong>选择 <code>Authentication Key</code></li><li>在<strong>Key</strong>中 <code>Command+V</code> 粘贴刚刚复制的 SSH Key</li><li>添加后点击 <code>Add SSH Key</code></li></ul><p>4、添加完成。</p><h4 id=4测试-ssh-key-是否添加成功>4、测试 SSH Key 是否添加成功<a hidden class=anchor aria-hidden=true href=#4测试-ssh-key-是否添加成功>#</a></h4><p>1、选择一个要用 SSH Key clone 的仓库，复制这个仓库的 SSH 链接。
2、在终端输入以下命令。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone <span style=color:#f92672>[</span>ssh-url<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>3、clone 成功即代表 SSH Key 添加成功。</p><h2 id=七发布内容>七、发布内容<a hidden class=anchor aria-hidden=true href=#七发布内容>#</a></h2><blockquote><p>使用Github Actions功能实现提交源码后自动发布。</p></blockquote><h4 id=1生成actions-secrets>1、生成Actions secrets<a hidden class=anchor aria-hidden=true href=#1生成actions-secrets>#</a></h4><p>1.1 生成Personal access tokens 首先点击github头像在下拉栏里进入Setting->Developer Settings->Personal access tokens -> tokens (classic)
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413004619.png alt=image.png></p><p>1.2 选择Generate new token
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413004713.png alt=image.png></p><p>1.3 点击Generate token生成token，这个token只有显示一次，并先复制保存该token。</p><h4 id=2添加ersonal-access-token>2、添加ersonal access token<a hidden class=anchor aria-hidden=true href=#2添加ersonal-access-token>#</a></h4><p>接下来在blog1仓库源码repo中添加上面的personal access token，进入repo的Settings->Secrets and variable一栏，选择New repository secret。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413005340.png alt=image.png></p><p>名称自取，Secret复制上面生成的Personal access tokens。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413005452.png alt=image.png></p><h4 id=3配置actions文件>3、配置actions文件<a hidden class=anchor aria-hidden=true href=#3配置actions文件>#</a></h4><p>3.1 在my blog博客根目录新建嵌套的两个文件夹.github/workflows，在workflows里新建一个后缀为.yml的配置文件，名字随意。
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20240413005750.png alt=image.png></p><p>将以下配置写进.yml文件里。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>name: deploy <span style=color:#75715e># 名字自取</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>on:
</span></span><span style=display:flex><span>	push:
</span></span><span style=display:flex><span>		branches:
</span></span><span style=display:flex><span>			- main <span style=color:#75715e># 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>jobs:
</span></span><span style=display:flex><span>	deploy: <span style=color:#75715e># 任务名自取</span>
</span></span><span style=display:flex><span>		runs-on: ubuntu-latest <span style=color:#75715e># 在什么环境运行任务</span>
</span></span><span style=display:flex><span>		steps:
</span></span><span style=display:flex><span>			- uses: actions/checkout@v2 <span style=color:#75715e># 引用actions/checkout这个action，与所在的github仓库同名</span>
</span></span><span style=display:flex><span>			  with:
</span></span><span style=display:flex><span>				submodules: true <span style=color:#75715e># Fetch Hugo themes (true OR recursive) 获取submodule主题</span>
</span></span><span style=display:flex><span>				fetch-depth: <span style=color:#ae81ff>0</span> <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>			- name: Setup Hugo <span style=color:#75715e># 步骤名自取</span>
</span></span><span style=display:flex><span>			  uses: peaceiris/actions-hugo@v2 <span style=color:#75715e># hugo官方提供的action，用于在任务环境中获取hugo</span>
</span></span><span style=display:flex><span>			  with:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				hugo-version: <span style=color:#e6db74>&#39;latest&#39;</span> <span style=color:#75715e># 获取最新版本的hugo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># extended: true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			- name: Build Web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			  run: hugo --minify <span style=color:#75715e># 使用hugo构建静态网页</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>			- name: Deploy Web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			  uses: peaceiris/actions-gh-pages@v3 <span style=color:#75715e># 一个自动发布github pages的action</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			  with:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				external_repository: h4m0r/h4m0r.github.io <span style=color:#75715e># 发布到哪个repo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				personal_token: <span style=color:#e6db74>${</span>{ secrets.PERSONAL_TOKEN <span style=color:#e6db74>}</span><span style=color:#f92672>}</span> <span style=color:#75715e># 发布到其他repo需要提供上面生成的personal access token</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				publish_dir: ./public <span style=color:#75715e># 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				publish_branch: main <span style=color:#75715e># 发布到哪个branch</span>
</span></span></code></pre></div><p>文件中只需要改external_repository为自己的github page仓库，personal_token: ${{ secrets.XXX }} XXX改成Actions secrets生成的名称。</p><h4 id=4推送代码到源码仓库>4、推送代码到源码仓库<a hidden class=anchor aria-hidden=true href=#4推送代码到源码仓库>#</a></h4><p>4.1 将myblog文件夹初始化为 Git 仓库，并设置默认主分支名为 main。GitHub 创建仓库默认主分支名是 main， 用 git init 初始化成 main ，再推送给远端仓库，这样才不会报错。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git init -b main
</span></span></code></pre></div><p>4.2 将 public 文件夹关联远程 GitHub Pages 仓库。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span> git remote add origin git@github.com:h4m0r/blog1.git
</span></span></code></pre></div><p>4.3 推送本地文件到远程仓库。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git pull --rebase origin main
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;...(修改的信息)&#34;</span>
</span></span><span style=display:flex><span>git push origin main
</span></span><span style=display:flex><span><span style=color:#75715e># git push origin main -f</span>
</span></span></code></pre></div><p>推送完成之后，到github仓库中的Actions中就可以看到运行成功，github pages仓库就会有hugo生成的html文件了，然后你就可以通过 <a href=https://h4m0r.github.io/>https://h4m0r.github.io</a> 访问你的博客。</p><h4 id=参考文章>参考文章<a hidden class=anchor aria-hidden=true href=#参考文章>#</a></h4><p>1、<a href=https://haoyep.com/posts/windows-hugo-blog-github/>Windows下使用hugo和Github Pages配置博客</a></p><p>2、<a href=https://cuttontail.blog/blog/create-a-wesite-using-github-pages-and-hugo/#9-%E5%8F%91%E5%B8%83%E5%86%85%E5%AE%B9>如何用 GitHub Pages + Hugo 搭建个人博客</a></p><p>3、<a href=https://krislinzhao.github.io/docs/create-a-wesite-using-github-pages-and-hugo/>如何用 GitHub Pages + Hugo 搭建个人博客</a></p><p>4、<a href=https://www.sulvblog.cn/posts/blog/build_hugo/>hugo博客搭建 | PaperMod主题</a></p></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://hamor.top/img/wechat_pay.png alt=wechat_pay></a><p>微信</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://hamor.top/img/alipay.png alt=alipay></a><p>支付宝</p></div></div><button id=rewardButton onclick='var qr=document.getElementById("QR");qr.style.opacity==="0"?qr.style.opacity="1":qr.style.opacity="0"'>
<span>🧧 鼓励</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://hamor.top/posts/blog/hugo%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/><span class=title>« 上一页</span><br><span>Hugo博客增加Twikoo评论系统</span></a></nav></footer></div><style>.comments_details summary::marker{font-size:20px;content:'👉展开评论';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'👇关闭评论';color:var(--content)}</style><div><details class=comments_details><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.6.32/twikoo.all.min.js></script><script>twikoo.init({envId:"https://twikoo-api-sigma-brown.vercel.app/",el:"#tcomment",lang:"zh-CN",region:null,path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>Copyright
&copy;
2024-2025
<a href=https://hamor.top/ style=color:#939393>h4m0r's Blog</a>
Powered by Hugo & PaperMod
    </span><span id=busuanzi_container><span class="fa fa-user"></span> <span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye"></span> <span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString()+`\r

————————————————\r
版权声明：本文为「h4m0r's Blog」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\r
原文链接：`+location.href,s=window.getSelection().toString()+`\r

————————————————\r
版权声明：本文为「h4m0r's Blog」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\r
原文链接：`+location.href;t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="复制";function i(){t.innerText="已复制！",setTimeout(()=>{t.innerText="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`\r
————————————————\r
版权声明：本文为「h4m0r's Blog」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\r
原文链接：`+location.href;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>