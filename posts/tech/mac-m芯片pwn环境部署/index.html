<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½² | h4m0r's Blog</title>
<meta name=keywords content="Mac,Pwn"><meta name=description content="Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²"><meta name=author content="h4m0r"><link rel=canonical href=https://hamor.top/posts/tech/mac-m%E8%8A%AF%E7%89%87pwn%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/><meta name=google-site-verification content="GR1ffzitmVWrYRtzKiL6ro8CN0Fhrzg3HWvCapyY5EU"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://hamor.top/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://hamor.top/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://hamor.top/img/Q.gif><link rel=apple-touch-icon href=https://hamor.top/img/Q.gif><link rel=mask-icon href=https://hamor.top/img/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://hamor.top/posts/tech/mac-m%E8%8A%AF%E7%89%87pwn%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GJCCZ7HKTC"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GJCCZ7HKTC")</script><meta property="og:title" content="Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²"><meta property="og:description" content="Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²"><meta property="og:type" content="article"><meta property="og:url" content="https://hamor.top/posts/tech/mac-m%E8%8A%AF%E7%89%87pwn%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"><meta property="og:image" content="https://hamor.top/posts/tech/img/pwn.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-24T14:43:56+08:00"><meta property="article:modified_time" content="2025-03-24T14:43:56+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hamor.top/posts/tech/img/pwn.png"><meta name=twitter:title content="Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²"><meta name=twitter:description content="Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ–‡ç« ","item":"https://hamor.top/posts/"},{"@type":"ListItem","position":2,"name":"æŠ€æœ¯","item":"https://hamor.top/posts/tech/"},{"@type":"ListItem","position":3,"name":"Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²","item":"https://hamor.top/posts/tech/mac-m%E8%8A%AF%E7%89%87pwn%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²","name":"Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²","description":"Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²","keywords":["Mac","Pwn"],"articleBody":"èƒŒæ™¯ è‡ªä»æ¢äº†macåï¼Œå¾ˆå¤šå®‰å…¨çš„ç¯å¢ƒéœ€è¦é‡æ–°æ­å»ºã€‚Pwnçš„ç¯å¢ƒä¸€ç›´æ²¡æœ‰åœ¨æœ¬åœ°å»éƒ¨ç½²ï¼Œå—é™äºMac MèŠ¯ç‰‡armæ¶æ„çš„åŸå› ï¼Œç›´æ¥åœ¨æœ¬åœ°ç¯å¢ƒå®‰è£…Pwnç¯å¢ƒä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œåœ¨æœ€è¿‘çš„äºŒè¿›åˆ¶å®‰å…¨å­¦ä¹ ä¸­ï¼Œç»ˆäºæ²‰ä¸‹å¿ƒæ¥æŠŠPwnçš„ç¯å¢ƒéƒ¨ç½²å®Œæˆã€‚\nä¸€ã€è™šæ‹Ÿæœºé€‰æ‹© Pwnç¯å¢ƒçš„æœ€ä½³éƒ¨ç½²ç¯å¢ƒæ˜¯X86çš„æ¶æ„ä¸‹éƒ¨ç½²ï¼Œè€Œç°åœ¨çš„Macéƒ½æ˜¯armæ¶æ„çš„ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©ç”¨UTMè™šæ‹Ÿæœºå®‰è£…Ubuntuæ¥æ¨¡æ‹Ÿè¿›è¡Œæ¨¡æ‹Ÿã€‚Pwntoolså®˜æ–¹æ–‡æ¡£è¯´æ˜åœ¨64ä½Ubuntu LTS ç‰ˆæœ¬ï¼ˆ22.04 å’Œ 24.04ï¼‰ä¸Šè¿è¡Œå—åˆ°æœ€ä½³çš„æ”¯æŒï¼Œä¸ºäº†æ›´é¡ºç•…çš„è¿è¡Œï¼Œè¿™é‡Œé€‰æ‹©ubuntu server 22.04ï¼Œæ¡Œé¢ç‰ˆä¸æ¨èã€‚\nUTMï¼šhttps://github.com/utmapp/UTM Ubuntuï¼šhttps://releases.ubuntu.com/22.04/ubuntu-22.04.5-live-server-amd64.iso\näºŒã€UTMå®‰è£…Ubuntu 1ã€å¼€å§‹çš„æ—¶å€™è¿™é‡Œé€‰æ‹©CPUæ¨¡æ‹Ÿ 2ã€è¿™é‡Œé€‰æ‹©Linux 3ã€è¿™é‡Œé€‰æ‹©å¯¼å…¥ubuntué•œåƒï¼Œç„¶åä¸€ç›´ä¸‹ä¸€æ­¥ï¼Œç›´åˆ°å®Œæˆã€‚ 4ã€ç„¶åå¯åŠ¨å¹¶å®‰è£…ubuntu\n0x01 å…¨è‹±æ–‡å®‰è£…å³å¯ 0x02 DHCPè‡ªåŠ¨è·å–IP 0x03 è¿™é‡Œå¯ä»¥æ›¿æ¢æˆå›½å†…çš„é•œåƒæºï¼Œå®‰è£…å®Œæˆåå†æ›¿æ¢ä¹Ÿå¯ä»¥ 0x04 è¿™é‡Œæ˜¯ç£ç›˜åˆ†åŒºï¼Œé»˜è®¤ç»™äº†å¤šå°‘å°±ä¼šæ˜¾ç¤ºå¤šå°‘ 0x05 æ ¼å¼åŒ–è­¦å‘Šï¼Œé€‰æ‹©continue 0x06 åˆ›å»ºç”¨æˆ·åå¯†ç  0x07 è¿™é‡Œé€‰æ‹©SSHå®‰è£…ï¼Œæ–¹ä¾¿åé¢é€šè¿‡sshè¿æ¥ï¼Œç©ºæ ¼å‹¾é€‰å®‰è£…ï¼Œç„¶åç‚¹Done 0x08 ç„¶åä¸€ç›´Doneä¸‹ä¸€æ­¥ï¼Œç›´åˆ°ç³»ç»Ÿå®Œæˆå®‰è£…ã€‚ç³»ç»Ÿå®‰è£…å®Œæˆåï¼Œéœ€è¦é€‰æ‹©Rebooté‡å¯ï¼Œé‡å¯æ—¶ï¼Œè¦å°†é•œåƒISOæ¨å‡ºã€‚ 0x09 ç­‰å¾…é‡å¯å®Œæˆåï¼Œæ ¹æ®å®‰è£…è¿‡ç¨‹ä¸­æ˜¾ç¤ºçš„IPï¼Œå¯ä»¥SSHç™»å½•åˆ°è™šæ‹Ÿæœºï¼Œå¦‚æœæ²¡æ³¨æ„ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ã€‚\nip addr æˆ–è€…å®‰è£…net-toolså·¥å…·ï¼Œé€šè¿‡ifconfigæŸ¥çœ‹IPã€‚\nsudo apt install net-tools ä¸‰ã€æ­£å¼éƒ¨ç½²Pwnç¯å¢ƒ 1ã€å®‰è£…pip sudo apt-get install python3-pip 2ã€å®‰è£…å¿…è¦çš„ä¾èµ– sudo apt install libssl-dev libffi-dev build-essential git vim 3ã€å®‰è£…pwntools pip3 install pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple 4ã€è®¾ç½®ç¯å¢ƒå˜é‡ pwntoolså®‰è£…å®Œæˆåï¼Œä¼šå¾—åˆ°checksecå’ŒROPgedgetå·¥å…·ï¼Œä½†åœ¨è¿è¡Œchecksecæ—¶ï¼Œä¼šæç¤ºæ²¡æœ‰æ‰¾åˆ°ï¼Œéœ€è¦å…ˆè®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œç„¶åè¿è¡Œchecksecå°±å¯ä»¥äº†ã€‚\n#æŸ¥çœ‹å½“å‰ç¯å¢ƒå˜é‡ echo $PATH #åœ¨~/.bashrcå†…æ·»åŠ  export PATH=$PATH:/home/ç”¨æˆ·å/.local/bin source ~/.bashrc 5ã€å®‰è£…gdbæ’ä»¶ mkdir tools cd tools 0x01 ä¸‹è½½ peda git clone https://github.com/longld/peda.git 0x02 ä¸‹è½½Pwngdb git clone https://github.com/scwuaptx/Pwngdb.git 0x03 ä¸‹è½½å®‰è£…pwndbg git clone https://github.com/pwndbg/pwndbg cd pwndbg/ ./setup.sh 0x04 é…ç½®æ’ä»¶ #toolsç›®å½•ä¸‹ cp Pwngdb/.gdbinit ~ vim ~/.gdbinit #æ‰“å¼€æ–‡ä»¶åæ–‡ä»¶å†…å®¹ä¿®æ”¹å¦‚ä¸‹ï¼Œæ³¨é‡Šæ‰ç¬¬ä¸€è¡Œï¼Œç„¶åæ·»åŠ source ï½/tools/pwndgb/gdbinit.py #ä¸€å®šè¦åœ¨source ~/Pwngdb/angelheap/gdbinit.pyå‰é¢ï¼Œè¦ä¸ç„¶ä¼šä½¿ç”¨é»˜è®¤é…ç½®ã€‚| 0x05 æµ‹è¯•gdb 6ã€å®‰è£…seccomp-tools(æŸ¥æ²™ç›’) sudo apt install gcc ruby-dev sudo gem install seccomp-tools 7ã€å®‰è£…ropper pip3 install ropper 8ã€å®‰è£…qemu(ç³»ç»Ÿå†…æ ¸) sudo apt-get install qemu-user qemu-system 9ã€å®‰è£…glibc-all-in-one git clone https://github.com/matrix1001/glibc-all-in-one.git cd glibc-all-in-one vim update_list æ”¹ä¸º#!/usr/bin/python3 0x01 ä½¿ç”¨æ–¹æ³• #æ›´æ–°æœ€æ–°ç‰ˆæœ¬çš„glibc ./update_list #æŸ¥çœ‹å¯ä¸‹è½½çš„glibc cat list #æ ¹æ®é¢˜ç›®æ‰€ç»™çš„libc,æ‰¾å¯¹åº”ç‰ˆæœ¬çš„è¿æ¥å™¨,å¹¶ä¸‹è½½è¯¥è¿æ¥å™¨ ./download 2.23-0ubuntu11.3_amd64 #ä¸‹è½½å¥½çš„libcå°±åœ¨libsç›®å½•ä¸‹ ls libs/2.23-0ubuntu11.3_amd64/ #æŠŠldæ–‡ä»¶å’Œlibcå¤åˆ¶åˆ°pwné¢˜ç›®å½•ä¸‹ #ä¸€èˆ¬æ¥è¯´ä½¿ç”¨æ—¶æŠŠæ ‡è®°çš„ld-2.23.soå’Œlibc-2.23.soæ‹·è´åœ¨ç¨‹åºç›®å½•ä¸‹å³å¯ #.debugæ–‡ä»¶ç”¨äºgdbè°ƒè¯• #åœ¨gdbè®¾ç½®setdebugf 10ã€å®‰è£…patchelf sudo apt-get install patchelf 0x01 ä½¿ç”¨æ–¹æ³• #æŸ¥çœ‹é¢˜ç›®åŸæ¥çš„libcå’Œldï¼Œâ€œeasyheapâ€ä¸ºå¯æ‰§è¡Œç¨‹åº æ­¤å¤„ä¸ºä¾‹å­ ldd easyheap #æ›¿æ¢libc patchelf --replace-needed libc.so.6 ./libc-2.23.so ./easyheap #è®¾ç½®ldæ–‡ä»¶ patchelf --set-interpreter ./ld-2.23.so ./easyheap 11ã€å®‰è£…one_gadget sudo gem install one_gadget 12ã€å®‰è£… zstd é¢„é˜²æŠ¥é”™ï¼ˆextractè„šæœ¬åœ¨è§£å‹çš„æ—¶å€™ç”¨åˆ°äº†zstdè§£å‹å‘½ä»¤ï¼‰æå‰å®‰è£…\nsudo apt-get install zstd å››ã€è‡³æ­¤Macä¸Šçš„Pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ ","wordCount":"1598","inLanguage":"zh","image":"https://hamor.top/posts/tech/img/pwn.png","datePublished":"2025-03-24T14:43:56+08:00","dateModified":"2025-03-24T14:43:56+08:00","author":[{"@type":"Person","name":"h4m0r"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hamor.top/posts/tech/mac-m%E8%8A%AF%E7%89%87pwn%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"},"publisher":{"@type":"Organization","name":"h4m0r's Blog","logo":{"@type":"ImageObject","url":"https://hamor.top/img/Q.gif"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hamor.top/ accesskey=h title="h4m0r's Blog (Alt + H)"><img src=https://hamor.top/img/Q.gif alt=logo aria-label=logo height=35>h4m0r's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://hamor.top/search title="æœç´¢ (Alt + /)" accesskey=/><span>æœç´¢</span></a></li><li><a href=https://hamor.top/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://hamor.top/posts title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://hamor.top/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://hamor.top/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://hamor.top/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://hamor.top/links title=å‹é“¾><span>å‹é“¾</span></a></li></ul></nav></header><main class=main><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://hamor.top/>ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://hamor.top/posts/>æ–‡ç« </a>&nbsp;Â»&nbsp;<a href=https://hamor.top/posts/tech/>æŠ€æœ¯</a></div><h1 class=post-title>Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²</h1><div class=post-description>Mac MèŠ¯ç‰‡Pwnç¯å¢ƒéƒ¨ç½²</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>2025-03-24
&nbsp;&nbsp;
</span></span><span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>1598å­—
&nbsp;&nbsp;
</span></span><span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>4åˆ†é’Ÿ
&nbsp;&nbsp;
</span></span><span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>h4m0r
&nbsp;&nbsp;
</span></span><span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://hamor.top/tags/mac/ style=color:var(--secondary)!important>Mac</a>
&nbsp;<a href=https://hamor.top/tags/pwn/ style=color:var(--secondary)!important>Pwn</a>
</span></span></span></span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;
</span></span><span id=post_meta_style_8><span class="fa fa-commenting-o"></span>
<span><script src=https://cdn.staticfile.org/twikoo/1.6.32/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://hamor.top/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=="/"&&(finalUrl="/"+finalUrl),twikoo.getCommentsCount({envId:"https://twikoo-api-sigma-brown.vercel.app/",region:null,urls:[finalUrl],includeReply:!1}).then(function(e){let t=e[0].count;const n=document.getElementById("comment_count");n.innerText=t}).catch(function(e){console.error(e)})</script><span id=comment_count></span></span></span></span></div></header><figure class=entry-cover1><img style=zoom: loading=lazy src=https://hamor.top/posts/tech/img/pwn.png alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e8%83%8c%e6%99%af aria-label=èƒŒæ™¯>èƒŒæ™¯</a></li><li><a href=#%e4%b8%80%e8%99%9a%e6%8b%9f%e6%9c%ba%e9%80%89%e6%8b%a9 aria-label=ä¸€ã€è™šæ‹Ÿæœºé€‰æ‹©>ä¸€ã€è™šæ‹Ÿæœºé€‰æ‹©</a></li><li><a href=#%e4%ba%8cutm%e5%ae%89%e8%a3%85ubuntu aria-label=äºŒã€UTMå®‰è£…Ubuntu>äºŒã€UTMå®‰è£…Ubuntu</a></li><li><a href=#%e4%b8%89%e6%ad%a3%e5%bc%8f%e9%83%a8%e7%bd%b2pwn%e7%8e%af%e5%a2%83 aria-label=ä¸‰ã€æ­£å¼éƒ¨ç½²Pwnç¯å¢ƒ>ä¸‰ã€æ­£å¼éƒ¨ç½²Pwnç¯å¢ƒ</a><ul><li><a href=#1%e5%ae%89%e8%a3%85pip aria-label=1ã€å®‰è£…pip>1ã€å®‰è£…pip</a></li><li><a href=#2%e5%ae%89%e8%a3%85%e5%bf%85%e8%a6%81%e7%9a%84%e4%be%9d%e8%b5%96 aria-label=2ã€å®‰è£…å¿…è¦çš„ä¾èµ–>2ã€å®‰è£…å¿…è¦çš„ä¾èµ–</a></li><li><a href=#3%e5%ae%89%e8%a3%85pwntools aria-label=3ã€å®‰è£…pwntools>3ã€å®‰è£…pwntools</a></li><li><a href=#4%e8%ae%be%e7%bd%ae%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f aria-label=4ã€è®¾ç½®ç¯å¢ƒå˜é‡>4ã€è®¾ç½®ç¯å¢ƒå˜é‡</a></li><li><a href=#5%e5%ae%89%e8%a3%85gdb%e6%8f%92%e4%bb%b6 aria-label=5ã€å®‰è£…gdbæ’ä»¶>5ã€å®‰è£…gdbæ’ä»¶</a><ul><li><a href=#0x01-%e4%b8%8b%e8%bd%bd-peda aria-label="0x01 ä¸‹è½½ peda">0x01 ä¸‹è½½ peda</a></li><li><a href=#0x02-%e4%b8%8b%e8%bd%bdpwngdb aria-label="0x02 ä¸‹è½½Pwngdb">0x02 ä¸‹è½½Pwngdb</a></li><li><a href=#0x03-%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85pwndbg aria-label="0x03 ä¸‹è½½å®‰è£…pwndbg">0x03 ä¸‹è½½å®‰è£…pwndbg</a></li><li><a href=#0x04-%e9%85%8d%e7%bd%ae%e6%8f%92%e4%bb%b6 aria-label="0x04 é…ç½®æ’ä»¶">0x04 é…ç½®æ’ä»¶</a></li><li><a href=#0x05-%e6%b5%8b%e8%af%95gdb aria-label="0x05 æµ‹è¯•gdb">0x05 æµ‹è¯•gdb</a></li></ul></li><li><a href=#6%e5%ae%89%e8%a3%85seccomp-tools%e6%9f%a5%e6%b2%99%e7%9b%92 aria-label=6ã€å®‰è£…seccomp-tools(æŸ¥æ²™ç›’)>6ã€å®‰è£…seccomp-tools(æŸ¥æ²™ç›’)</a></li><li><a href=#7%e5%ae%89%e8%a3%85ropper aria-label=7ã€å®‰è£…ropper>7ã€å®‰è£…ropper</a></li><li><a href=#8%e5%ae%89%e8%a3%85qemu%e7%b3%bb%e7%bb%9f%e5%86%85%e6%a0%b8 aria-label=8ã€å®‰è£…qemu(ç³»ç»Ÿå†…æ ¸)>8ã€å®‰è£…qemu(ç³»ç»Ÿå†…æ ¸)</a></li><li><a href=#9%e5%ae%89%e8%a3%85glibc-all-in-one aria-label=9ã€å®‰è£…glibc-all-in-one>9ã€å®‰è£…glibc-all-in-one</a><ul><li><a href=#0x01-%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95 aria-label="0x01 ä½¿ç”¨æ–¹æ³•">0x01 ä½¿ç”¨æ–¹æ³•</a></li></ul></li><li><a href=#10%e5%ae%89%e8%a3%85patchelf aria-label=10ã€å®‰è£…patchelf>10ã€å®‰è£…patchelf</a><ul><li><a href=#0x01-%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95-1 aria-label="0x01 ä½¿ç”¨æ–¹æ³•">0x01 ä½¿ç”¨æ–¹æ³•</a></li></ul></li><li><a href=#11%e5%ae%89%e8%a3%85one_gadget aria-label=11ã€å®‰è£…one_gadget>11ã€å®‰è£…one_gadget</a></li><li><a href=#12%e5%ae%89%e8%a3%85-zstd aria-label="12ã€å®‰è£… zstd">12ã€å®‰è£… zstd</a></li></ul></li><li><a href=#%e5%9b%9b%e8%87%b3%e6%ad%a4mac%e4%b8%8a%e7%9a%84pwn%e7%8e%af%e5%a2%83%e9%83%a8%e7%bd%b2%e5%ae%8c%e6%88%90 aria-label=å››ã€è‡³æ­¤Macä¸Šçš„Pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ>å››ã€è‡³æ­¤Macä¸Šçš„Pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=èƒŒæ™¯>èƒŒæ™¯<a hidden class=anchor aria-hidden=true href=#èƒŒæ™¯>#</a></h2><blockquote><p>è‡ªä»æ¢äº†macåï¼Œå¾ˆå¤šå®‰å…¨çš„ç¯å¢ƒéœ€è¦é‡æ–°æ­å»ºã€‚Pwnçš„ç¯å¢ƒä¸€ç›´æ²¡æœ‰åœ¨æœ¬åœ°å»éƒ¨ç½²ï¼Œå—é™äºMac MèŠ¯ç‰‡armæ¶æ„çš„åŸå› ï¼Œç›´æ¥åœ¨æœ¬åœ°ç¯å¢ƒå®‰è£…Pwnç¯å¢ƒä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œåœ¨æœ€è¿‘çš„äºŒè¿›åˆ¶å®‰å…¨å­¦ä¹ ä¸­ï¼Œç»ˆäºæ²‰ä¸‹å¿ƒæ¥æŠŠPwnçš„ç¯å¢ƒéƒ¨ç½²å®Œæˆã€‚</p></blockquote><h2 id=ä¸€è™šæ‹Ÿæœºé€‰æ‹©>ä¸€ã€è™šæ‹Ÿæœºé€‰æ‹©<a hidden class=anchor aria-hidden=true href=#ä¸€è™šæ‹Ÿæœºé€‰æ‹©>#</a></h2><p>Pwnç¯å¢ƒçš„æœ€ä½³éƒ¨ç½²ç¯å¢ƒæ˜¯X86çš„æ¶æ„ä¸‹éƒ¨ç½²ï¼Œè€Œç°åœ¨çš„Macéƒ½æ˜¯armæ¶æ„çš„ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©ç”¨UTMè™šæ‹Ÿæœºå®‰è£…Ubuntuæ¥æ¨¡æ‹Ÿè¿›è¡Œæ¨¡æ‹Ÿã€‚Pwntoolså®˜æ–¹æ–‡æ¡£è¯´æ˜åœ¨64ä½Ubuntu LTS ç‰ˆæœ¬ï¼ˆ22.04 å’Œ 24.04ï¼‰ä¸Šè¿è¡Œå—åˆ°æœ€ä½³çš„æ”¯æŒï¼Œä¸ºäº†æ›´é¡ºç•…çš„è¿è¡Œï¼Œè¿™é‡Œé€‰æ‹©ubuntu server 22.04ï¼Œæ¡Œé¢ç‰ˆä¸æ¨èã€‚</p><p>UTMï¼š<a href=https://github.com/utmapp/UTM>https://github.com/utmapp/UTM</a>
Ubuntuï¼š<a href=https://releases.ubuntu.com/22.04/ubuntu-22.04.5-live-server-amd64.iso>https://releases.ubuntu.com/22.04/ubuntu-22.04.5-live-server-amd64.iso</a></p><h2 id=äºŒutmå®‰è£…ubuntu>äºŒã€UTMå®‰è£…Ubuntu<a hidden class=anchor aria-hidden=true href=#äºŒutmå®‰è£…ubuntu>#</a></h2><p>1ã€å¼€å§‹çš„æ—¶å€™è¿™é‡Œé€‰æ‹©CPUæ¨¡æ‹Ÿ
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309153144.png alt=image.png></p><p>2ã€è¿™é‡Œé€‰æ‹©Linux
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309153317.png alt=image.png></p><p>3ã€è¿™é‡Œé€‰æ‹©å¯¼å…¥ubuntué•œåƒï¼Œç„¶åä¸€ç›´ä¸‹ä¸€æ­¥ï¼Œç›´åˆ°å®Œæˆã€‚
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309153407.png alt=image.png></p><p>4ã€ç„¶åå¯åŠ¨å¹¶å®‰è£…ubuntu</p><p>0x01 å…¨è‹±æ–‡å®‰è£…å³å¯
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155102.png alt=image.png>
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155126.png alt=image.png>
0x02 DHCPè‡ªåŠ¨è·å–IP
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155146.png alt=image.png>
0x03 è¿™é‡Œå¯ä»¥æ›¿æ¢æˆå›½å†…çš„é•œåƒæºï¼Œå®‰è£…å®Œæˆåå†æ›¿æ¢ä¹Ÿå¯ä»¥
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155206.png alt=image.png>
0x04 è¿™é‡Œæ˜¯ç£ç›˜åˆ†åŒºï¼Œé»˜è®¤ç»™äº†å¤šå°‘å°±ä¼šæ˜¾ç¤ºå¤šå°‘
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155225.png alt=image.png>
0x05 æ ¼å¼åŒ–è­¦å‘Šï¼Œé€‰æ‹©continue
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155245.png alt=image.png>
0x06 åˆ›å»ºç”¨æˆ·åå¯†ç 
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155726.png alt=image.png>
0x07 è¿™é‡Œé€‰æ‹©SSHå®‰è£…ï¼Œæ–¹ä¾¿åé¢é€šè¿‡sshè¿æ¥ï¼Œç©ºæ ¼å‹¾é€‰å®‰è£…ï¼Œç„¶åç‚¹Done
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309155757.png alt=image.png>
0x08 ç„¶åä¸€ç›´Doneä¸‹ä¸€æ­¥ï¼Œç›´åˆ°ç³»ç»Ÿå®Œæˆå®‰è£…ã€‚ç³»ç»Ÿå®‰è£…å®Œæˆåï¼Œéœ€è¦é€‰æ‹©Rebooté‡å¯ï¼Œé‡å¯æ—¶ï¼Œè¦å°†é•œåƒISOæ¨å‡ºã€‚
<img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309160109.png alt=image.png>
0x09 ç­‰å¾…é‡å¯å®Œæˆåï¼Œæ ¹æ®å®‰è£…è¿‡ç¨‹ä¸­æ˜¾ç¤ºçš„IPï¼Œå¯ä»¥SSHç™»å½•åˆ°è™šæ‹Ÿæœºï¼Œå¦‚æœæ²¡æ³¨æ„ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ip addr
</span></span></code></pre></div><p>æˆ–è€…å®‰è£…net-toolså·¥å…·ï¼Œé€šè¿‡ifconfigæŸ¥çœ‹IPã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install net-tools
</span></span></code></pre></div><h2 id=ä¸‰æ­£å¼éƒ¨ç½²pwnç¯å¢ƒ>ä¸‰ã€æ­£å¼éƒ¨ç½²Pwnç¯å¢ƒ<a hidden class=anchor aria-hidden=true href=#ä¸‰æ­£å¼éƒ¨ç½²pwnç¯å¢ƒ>#</a></h2><h3 id=1å®‰è£…pip>1ã€å®‰è£…pip<a hidden class=anchor aria-hidden=true href=#1å®‰è£…pip>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install python3-pip
</span></span></code></pre></div><h3 id=2å®‰è£…å¿…è¦çš„ä¾èµ–>2ã€å®‰è£…å¿…è¦çš„ä¾èµ–<a hidden class=anchor aria-hidden=true href=#2å®‰è£…å¿…è¦çš„ä¾èµ–>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install libssl-dev libffi-dev build-essential git vim
</span></span></code></pre></div><h3 id=3å®‰è£…pwntools>3ã€å®‰è£…pwntools<a hidden class=anchor aria-hidden=true href=#3å®‰è£…pwntools>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip3 install pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple
</span></span></code></pre></div><h3 id=4è®¾ç½®ç¯å¢ƒå˜é‡>4ã€è®¾ç½®ç¯å¢ƒå˜é‡<a hidden class=anchor aria-hidden=true href=#4è®¾ç½®ç¯å¢ƒå˜é‡>#</a></h3><p>pwntoolså®‰è£…å®Œæˆåï¼Œä¼šå¾—åˆ°checksecå’ŒROPgedgetå·¥å…·ï¼Œä½†åœ¨è¿è¡Œchecksecæ—¶ï¼Œä¼šæç¤ºæ²¡æœ‰æ‰¾åˆ°ï¼Œéœ€è¦å…ˆè®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œç„¶åè¿è¡Œchecksecå°±å¯ä»¥äº†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#æŸ¥çœ‹å½“å‰ç¯å¢ƒå˜é‡</span>
</span></span><span style=display:flex><span>echo $PATH
</span></span><span style=display:flex><span><span style=color:#75715e>#åœ¨~/.bashrcå†…æ·»åŠ </span>
</span></span><span style=display:flex><span>export PATH<span style=color:#f92672>=</span>$PATH:/home/ç”¨æˆ·å/.local/bin
</span></span><span style=display:flex><span>source ~/.bashrc
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309161733.png alt=image.png></p><h3 id=5å®‰è£…gdbæ’ä»¶>5ã€å®‰è£…gdbæ’ä»¶<a hidden class=anchor aria-hidden=true href=#5å®‰è£…gdbæ’ä»¶>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir tools
</span></span><span style=display:flex><span>cd tools
</span></span></code></pre></div><h4 id=0x01-ä¸‹è½½-peda>0x01 ä¸‹è½½ peda<a hidden class=anchor aria-hidden=true href=#0x01-ä¸‹è½½-peda>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/longld/peda.git
</span></span></code></pre></div><h4 id=0x02-ä¸‹è½½pwngdb>0x02 ä¸‹è½½Pwngdb<a hidden class=anchor aria-hidden=true href=#0x02-ä¸‹è½½pwngdb>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/scwuaptx/Pwngdb.git 
</span></span></code></pre></div><h4 id=0x03-ä¸‹è½½å®‰è£…pwndbg>0x03 ä¸‹è½½å®‰è£…pwndbg<a hidden class=anchor aria-hidden=true href=#0x03-ä¸‹è½½å®‰è£…pwndbg>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/pwndbg/pwndbg
</span></span><span style=display:flex><span>cd pwndbg/
</span></span><span style=display:flex><span>./setup.sh
</span></span></code></pre></div><h4 id=0x04-é…ç½®æ’ä»¶>0x04 é…ç½®æ’ä»¶<a hidden class=anchor aria-hidden=true href=#0x04-é…ç½®æ’ä»¶>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#toolsç›®å½•ä¸‹</span>
</span></span><span style=display:flex><span>cp Pwngdb/.gdbinit ~ 
</span></span><span style=display:flex><span>vim ~/.gdbinit
</span></span><span style=display:flex><span><span style=color:#75715e>#æ‰“å¼€æ–‡ä»¶åæ–‡ä»¶å†…å®¹ä¿®æ”¹å¦‚ä¸‹ï¼Œæ³¨é‡Šæ‰ç¬¬ä¸€è¡Œï¼Œç„¶åæ·»åŠ source ï½/tools/pwndgb/gdbinit.py</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¸€å®šè¦åœ¨source ~/Pwngdb/angelheap/gdbinit.pyå‰é¢ï¼Œè¦ä¸ç„¶ä¼šä½¿ç”¨é»˜è®¤é…ç½®ã€‚|</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309163203.png alt=image.png></p><h4 id=0x05-æµ‹è¯•gdb>0x05 æµ‹è¯•gdb<a hidden class=anchor aria-hidden=true href=#0x05-æµ‹è¯•gdb>#</a></h4><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309163459.png alt=image.png></p><h3 id=6å®‰è£…seccomp-toolsæŸ¥æ²™ç›’>6ã€å®‰è£…seccomp-tools(æŸ¥æ²™ç›’)<a hidden class=anchor aria-hidden=true href=#6å®‰è£…seccomp-toolsæŸ¥æ²™ç›’>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install gcc ruby-dev
</span></span><span style=display:flex><span>sudo gem install seccomp-tools
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309163920.png alt=image.png></p><h3 id=7å®‰è£…ropper>7ã€å®‰è£…ropper<a hidden class=anchor aria-hidden=true href=#7å®‰è£…ropper>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip3 install ropper
</span></span></code></pre></div><h3 id=8å®‰è£…qemuç³»ç»Ÿå†…æ ¸>8ã€å®‰è£…qemu(ç³»ç»Ÿå†…æ ¸)<a hidden class=anchor aria-hidden=true href=#8å®‰è£…qemuç³»ç»Ÿå†…æ ¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install qemu-user qemu-system
</span></span></code></pre></div><h3 id=9å®‰è£…glibc-all-in-one>9ã€å®‰è£…glibc-all-in-one<a hidden class=anchor aria-hidden=true href=#9å®‰è£…glibc-all-in-one>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/matrix1001/glibc-all-in-one.git  
</span></span><span style=display:flex><span>cd glibc-all-in-one  
</span></span><span style=display:flex><span>vim update_list  
</span></span><span style=display:flex><span>æ”¹ä¸º#!/usr/bin/python3
</span></span></code></pre></div><h4 id=0x01-ä½¿ç”¨æ–¹æ³•>0x01 ä½¿ç”¨æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#0x01-ä½¿ç”¨æ–¹æ³•>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#æ›´æ–°æœ€æ–°ç‰ˆæœ¬çš„glibc</span>
</span></span><span style=display:flex><span>./update_list
</span></span><span style=display:flex><span><span style=color:#75715e>#æŸ¥çœ‹å¯ä¸‹è½½çš„glibc</span>
</span></span><span style=display:flex><span>cat list
</span></span><span style=display:flex><span><span style=color:#75715e>#æ ¹æ®é¢˜ç›®æ‰€ç»™çš„libc,æ‰¾å¯¹åº”ç‰ˆæœ¬çš„è¿æ¥å™¨,å¹¶ä¸‹è½½è¯¥è¿æ¥å™¨</span>
</span></span><span style=display:flex><span>./download 2.23-0ubuntu11.3_amd64
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¸‹è½½å¥½çš„libcå°±åœ¨libsç›®å½•ä¸‹</span>
</span></span><span style=display:flex><span>ls libs/2.23-0ubuntu11.3_amd64/
</span></span><span style=display:flex><span><span style=color:#75715e>#æŠŠldæ–‡ä»¶å’Œlibcå¤åˆ¶åˆ°pwné¢˜ç›®å½•ä¸‹</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¸€èˆ¬æ¥è¯´ä½¿ç”¨æ—¶æŠŠæ ‡è®°çš„ld-2.23.soå’Œlibc-2.23.soæ‹·è´åœ¨ç¨‹åºç›®å½•ä¸‹å³å¯</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#.debugæ–‡ä»¶ç”¨äºgdbè°ƒè¯•</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#åœ¨gdbè®¾ç½®setdebugf</span>
</span></span></code></pre></div><h3 id=10å®‰è£…patchelf>10ã€å®‰è£…patchelf<a hidden class=anchor aria-hidden=true href=#10å®‰è£…patchelf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install patchelf
</span></span></code></pre></div><h4 id=0x01-ä½¿ç”¨æ–¹æ³•-1>0x01 ä½¿ç”¨æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#0x01-ä½¿ç”¨æ–¹æ³•-1>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#æŸ¥çœ‹é¢˜ç›®åŸæ¥çš„libcå’Œldï¼Œâ€œeasyheapâ€ä¸ºå¯æ‰§è¡Œç¨‹åº æ­¤å¤„ä¸ºä¾‹å­</span>
</span></span><span style=display:flex><span>ldd easyheap
</span></span><span style=display:flex><span><span style=color:#75715e>#æ›¿æ¢libc</span>
</span></span><span style=display:flex><span>patchelf --replace-needed libc.so.6 ./libc-2.23.so ./easyheap
</span></span><span style=display:flex><span><span style=color:#75715e>#è®¾ç½®ldæ–‡ä»¶</span>
</span></span><span style=display:flex><span>patchelf --set-interpreter ./ld-2.23.so ./easyheap
</span></span></code></pre></div><h3 id=11å®‰è£…one_gadget>11ã€å®‰è£…one_gadget<a hidden class=anchor aria-hidden=true href=#11å®‰è£…one_gadget>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo gem install one_gadget
</span></span></code></pre></div><p><img loading=lazy src=https://cdn.hamor.top/gh/h4m0r/Blog_img/cdnimg/20250309164807.png alt=image.png></p><h3 id=12å®‰è£…-zstd>12ã€å®‰è£… zstd<a hidden class=anchor aria-hidden=true href=#12å®‰è£…-zstd>#</a></h3><p>é¢„é˜²æŠ¥é”™ï¼ˆextractè„šæœ¬åœ¨è§£å‹çš„æ—¶å€™ç”¨åˆ°äº†zstdè§£å‹å‘½ä»¤ï¼‰æå‰å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install zstd
</span></span></code></pre></div><h2 id=å››è‡³æ­¤macä¸Šçš„pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ>å››ã€è‡³æ­¤Macä¸Šçš„Pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ<a hidden class=anchor aria-hidden=true href=#å››è‡³æ­¤macä¸Šçš„pwnç¯å¢ƒéƒ¨ç½²å®Œæˆ>#</a></h2></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://hamor.top/img/wechat_pay.png alt=wechat_pay></a><p>å¾®ä¿¡</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://hamor.top/img/alipay.png alt=alipay></a><p>æ”¯ä»˜å®</p></div></div><button id=rewardButton onclick='var qr=document.getElementById("QR");qr.style.opacity==="0"?qr.style.opacity="1":qr.style.opacity="0"'>
<span>ğŸ§§ é¼“åŠ±</span></button></div></div><footer class=post-footer><nav class=paginav><a class=next href=https://hamor.top/posts/read/%E5%A8%81%E8%81%94%E9%80%9Anas-docker%E9%83%A8%E7%BD%B2codimd%E5%8F%8A%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%BF%AE%E6%94%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>å¨è”é€šNAS Dockeréƒ¨ç½²CodiMDåŠç¯å¢ƒå˜é‡ä¿®æ”¹è§£å†³æ–¹æ¡ˆ</span></a></nav></footer></div><style>.comments_details summary::marker{font-size:20px;content:'ğŸ‘‰å±•å¼€è¯„è®º';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'ğŸ‘‡å…³é—­è¯„è®º';color:var(--content)}</style><div><details class=comments_details><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.6.32/twikoo.all.min.js></script><script>twikoo.init({envId:"https://twikoo-api-sigma-brown.vercel.app/",el:"#tcomment",lang:"zh-CN",region:null,path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><div class=ad-container><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4347970602668716" crossorigin=anonymous></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4347970602668716 data-ad-slot=7275312215></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><span>Copyright
&copy;
2024-2025
<a href=https://hamor.top/ style=color:#939393>h4m0r's Blog</a>
Powered by Hugo & PaperMod
    </span><span id=busuanzi_container><span class="fa fa-user"></span> <span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye"></span> <span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString()+`\r

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œh4m0r's Blogã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚\r
åŸæ–‡é“¾æ¥ï¼š`+location.href,s=window.getSelection().toString()+`\r

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œh4m0r's Blogã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚\r
åŸæ–‡é“¾æ¥ï¼š`+location.href;t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="å¤åˆ¶";function i(){t.innerText="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerText="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`\r
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œh4m0r's Blogã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚\r
åŸæ–‡é“¾æ¥ï¼š`+location.href;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>